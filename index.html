<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
  <title>PoopTrack ğŸŒ¿</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#4CAF50">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="apple-touch-icon" href="icons/icon-192.png">

  <!-- STYLE -->
  <link rel="stylesheet" href="style.css">

  <!-- CHART -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
<main class="app flo-ui" role="application">

  <!-- HEADER -->
  <header class="app-header">
    <h1>ğŸŒ¿ PoopTrack</h1>
    <p class="subtitle">care for your gut, gently ğŸ’š</p>
  </header>

  <!-- SUMMARY -->
  <section class="card summary">
    <button class="summary-item" type="button">
      <span class="icon">ğŸš½</span>
      <div>
        <strong id="todayCount">0</strong>
        <small>Hari ini</small>
      </div>
    </button>

    <button class="summary-item" type="button">
      <span class="icon">ğŸ’©</span>
      <div>
        <strong id="avgType">-</strong>
        <small>Tipe dominan</small>
      </div>
    </button>
  </section>

  <!-- CHART -->
  <section class="card chart-card">
    <h2>ğŸ“Š Aktivitas Mingguan</h2>
    <div class="chart-wrapper">
      <canvas id="poopChart"></canvas>
    </div>
  </section>

  <!-- INPUT -->
  <section class="card form-card">
    <h2>ğŸ“ Catat Hari Ini</h2>

    <div class="form-group">
      <label for="date">
        <span class="icon">ğŸ“…</span>
        Tanggal
      </label>
      <input type="date" id="date" required>
    </div>

    <div class="form-group">
      <label for="type">
        <span class="icon">ğŸ§»</span>
        Bristol Type
      </label>
      <div class="select-wrapper">
        <select id="type" required>
          <option value="1">ğŸ¥œ Type 1 â€” keras</option>
          <option value="2">ğŸª¨ Type 2 â€” agak keras</option>
          <option value="3">ğŸŒ­ Type 3 â€” normal</option>
          <option value="4">ğŸŒ Type 4 â€” ideal</option>
          <option value="5">ğŸ¥¥ Type 5 â€” lembek</option>
          <option value="6">ğŸ¥£ Type 6 â€” sangat lembek</option>
          <option value="7">ğŸ’¦ Type 7 â€” cair</option>
        </select>
      </div>
    </div>

    <button id="saveBtn" class="primary-btn" type="button">
      ğŸ’¾ Simpan Catatan
    </button>
  </section>

  <!-- INSIGHT -->
  <section class="card insight" aria-live="polite">
    <h2>ğŸ§  Insight Kamu</h2>

    <div class="insight-status">
      <span class="emoji">ğŸŒ¿</span>
      <div>
        <strong id="gutStatus">Usus kamu aman & chill</strong>
        <small id="insightText">Belum ada data, yuk mulai catat ğŸ’š</small>
      </div>
    </div>

    <div class="insight-meter">
      <div class="meter-item">
        <span>ğŸ’§</span>
        <small>Hidrasi</small>
        <div class="bar">
          <span id="waterLevel"></span>
        </div>
      </div>

      <div class="meter-item">
        <span>ğŸ¥¦</span>
        <small>Serat</small>
        <div class="bar">
          <span id="fiberLevel"></span>
        </div>
      </div>
    </div>

    <div class="insight-tips">
      <button type="button">ğŸ’§ Minum air</button>
      <button type="button">ğŸ¥¦ Tambah serat</button>
      <button type="button">ğŸš¶ Jalan santai</button>
    </div>
  </section>

  <!-- REMINDER -->
  <section class="card reminder-card">
    <h2>â° Pengingat Lembut</h2>

    <div class="reminder-item">
      <div class="reminder-info">
        <span class="emoji">ğŸš½</span>
        <div>
          <strong>Waktu Pup</strong>
          <small>ingatkan tubuhmu tanpa maksa</small>
        </div>
      </div>
      <div class="reminder-action">
        <input type="time" id="pupTime">
        <button id="remindPup" class="primary-btn" type="button">
          Aktifkan
        </button>
      </div>
    </div>

    <div class="reminder-item">
      <div class="reminder-info">
        <span class="emoji">ğŸ’§</span>
        <div>
          <strong>Minum Air</strong>
          <small>biar pup kamu happy</small>
        </div>
      </div>
      <div class="reminder-action">
        <select id="drinkInterval">
          <option value="60">â±ï¸ tiap 1 jam</option>
          <option value="90">â±ï¸ tiap 1,5 jam</option>
          <option value="120">â±ï¸ tiap 2 jam</option>
        </select>
        <button id="remindDrink" class="secondary-btn" type="button">
          Aktifkan
        </button>
      </div>
    </div>

    <div class="reminder-affirmation">
      ğŸŒ± kamu ga malas, tubuhmu cuma butuh diingatkan
    </div>
  </section>

  <!-- HISTORY -->
  <section class="card history-card">
    <h2>ğŸ“œ Riwayat</h2>
    <ul id="history"></ul>
  </section>

</main>

<!-- SCRIPT -->
<script src="script.js" defer></script>

<script>
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker.register("service-worker.js");
    });
  }
</script>

</body>
</html>
